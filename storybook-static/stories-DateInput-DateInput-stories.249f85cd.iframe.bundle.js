"use strict";(self.webpackChunk_pa_digital_govuk_frontend_react=self.webpackChunk_pa_digital_govuk_frontend_react||[]).push([[6034],{"./src/stories/DateInput/DateInput.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AllError:()=>AllError,Default:()=>Default,Hint:()=>Hint,PartialError:()=>PartialError,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DateInput_stories});var react=__webpack_require__("./node_modules/react/index.js");const UpdateDayElement=(day,currentDate)=>{const newValue={day:"",month:"",year:""};return newValue.day=day,newValue.month=currentDate.month,newValue.year=currentDate.year,newValue},UpdateMonthElement=(month,currentDate)=>{const newValue={day:"",month:"",year:""};return newValue.day=currentDate.day,newValue.month=month,newValue.year=currentDate.year,newValue},UpdateYearElement=(year,currentDate)=>{const newValue={day:"",month:"",year:""};return newValue.day=currentDate.day,newValue.month=currentDate.month,newValue.year=year,newValue};var TextInput=__webpack_require__("./src/UI/Input/TextInput.tsx"),errorTypeEnum=function(errorTypeEnum){return errorTypeEnum[errorTypeEnum.all=0]="all",errorTypeEnum[errorTypeEnum.day=1]="day",errorTypeEnum[errorTypeEnum.month=2]="month",errorTypeEnum[errorTypeEnum.year=3]="year",errorTypeEnum[errorTypeEnum.dayMonth=4]="dayMonth",errorTypeEnum[errorTypeEnum.monthYear=5]="monthYear",errorTypeEnum[errorTypeEnum.dayYear=6]="dayYear",errorTypeEnum}({});function DateInput({identifier,label,hint,required,errorType,error,value,multiQuestion,onValueChange}){const[dateInputValue,setDateInputValue]=(0,react.useState)(value||{day:"",month:"",year:""}),[initialDateSet,setinitialDateSet]=(0,react.useState)(!0),containerAttr={className:error?"govuk-form-group govuk-form-group--error":"govuk-form-group"},fieldSetAttr={"aria-describedby":`${identifier}-legend`};hint&&(fieldSetAttr["aria-describedby"]=`${identifier}-hint ${fieldSetAttr["aria-describedby"]}`),error&&(fieldSetAttr["aria-describedby"]=`${identifier}-error ${fieldSetAttr["aria-describedby"]}`);const calcInputErrorStates=input=>{switch(errorType){case 0:return!0;case 1:return"day"===input;case 2:return"month"===input;case 3:return"year"===input;case 4:return"day"===input||"month"===input;case 5:return"month"===input||"year"===input;case 6:return"day"===input||"year"===input;default:return!1}};(0,react.useEffect)((()=>{initialDateSet||onValueChange(dateInputValue),setinitialDateSet(!1)}),[dateInputValue]);return react.createElement("div",containerAttr,react.createElement("fieldset",{className:"govuk-fieldset",role:"group",...fieldSetAttr},multiQuestion?react.createElement("legend",{className:"govuk-fieldset__legend",id:`${identifier}-legend`},label):react.createElement("legend",{className:"govuk-fieldset__legend govuk-fieldset__legend--l",id:`${identifier}-legend`},react.createElement("h1",{className:"govuk-fieldset__heading"},label)),hint&&react.createElement("div",{id:`${identifier}-hint`,className:"govuk-hint"},hint),error&&react.createElement("p",{id:`${identifier}-error`,className:"govuk-error-message"},react.createElement("span",{className:"govuk-visually-hidden"},"Error:")," ",error),react.createElement("div",{className:"govuk-date-input",id:identifier},react.createElement("div",{className:"govuk-date-input__item"},react.createElement(TextInput.k,{identifier:`${identifier}-day`,label:"Day",multiQuestion:!0,inputMode:"numeric",labelClassExt:"govuk-date-input__label",inputClassExt:"govuk-date-input__input govuk-input--width-2",required,inErrorState:calcInputErrorStates("day"),value:dateInputValue.day,onChange:e=>{const newValue=UpdateDayElement(e.target.value,dateInputValue);setDateInputValue(newValue)},onBlur:e=>{const newValue=UpdateDayElement(e.target.value,dateInputValue);setDateInputValue(newValue)}})),react.createElement("div",{className:"govuk-date-input__item"},react.createElement(TextInput.k,{identifier:`${identifier}-month`,label:"Month",multiQuestion:!0,inputMode:"numeric",labelClassExt:"govuk-date-input__label",inputClassExt:"govuk-date-input__input govuk-input--width-2",required,inErrorState:calcInputErrorStates("month"),value:dateInputValue.month,onChange:e=>{const newValue=UpdateMonthElement(e.target.value,dateInputValue);setDateInputValue(newValue)},onBlur:e=>{const newValue=UpdateMonthElement(e.target.value,dateInputValue);setDateInputValue(newValue)}})),react.createElement("div",{className:"govuk-date-input__item"},react.createElement(TextInput.k,{identifier:`${identifier}-year`,label:"Year",multiQuestion:!0,inputMode:"numeric",labelClassExt:"govuk-date-input__label",inputClassExt:"govuk-date-input__input govuk-input--width-4",required,inErrorState:calcInputErrorStates("year"),value:dateInputValue.year,onChange:e=>{const newValue=UpdateYearElement(e.target.value,dateInputValue);setDateInputValue(newValue)},onBlur:e=>{const newValue=UpdateYearElement(e.target.value,dateInputValue);setDateInputValue(newValue)}})))))}try{DateInput.displayName="DateInput",DateInput.__docgenInfo={description:"",displayName:"DateInput",props:{identifier:{defaultValue:null,description:"",name:"identifier",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},hint:{defaultValue:null,description:"",name:"hint",required:!1,type:{name:"string"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},errorType:{defaultValue:null,description:"",name:"errorType",required:!1,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"},{value:"3"},{value:"4"},{value:"5"},{value:"6"}]}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"DateInputState"}},multiQuestion:{defaultValue:null,description:"",name:"multiQuestion",required:!1,type:{name:"boolean"}},onValueChange:{defaultValue:null,description:"",name:"onValueChange",required:!0,type:{name:"(value: DateInputState) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/UI/DateInput/DateInput.tsx#DateInput"]={docgenInfo:DateInput.__docgenInfo,name:"DateInput",path:"src/UI/DateInput/DateInput.tsx#DateInput"})}catch(__react_docgen_typescript_loader_error){}var dist=__webpack_require__("./node_modules/@storybook/test/dist/index.mjs");const DateInput_stories={title:"Components/Date Input/Implementation",component:DateInput},Default={args:{identifier:"date-input",label:"Date of birth",onValueChange:(0,dist.fn)()}},Hint={args:{identifier:"date-input",label:"Date of birth",hint:"This is the date you were born",onValueChange:(0,dist.fn)()}},PartialError={args:{identifier:"date-input",label:"Date of birth",error:"You must enter a full date of birth",errorType:errorTypeEnum.dayMonth,onValueChange:(0,dist.fn)()}},AllError={args:{identifier:"date-input",label:"Date of birth",error:"You must enter a date of birth",errorType:errorTypeEnum.all,onValueChange:(0,dist.fn)()}},__namedExportsOrder=["Default","Hint","PartialError","AllError"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    identifier: 'date-input',\n    label: 'Date of birth',\n    onValueChange: fn()\n  }\n}",...Default.parameters?.docs?.source}}},Hint.parameters={...Hint.parameters,docs:{...Hint.parameters?.docs,source:{originalSource:"{\n  args: {\n    identifier: 'date-input',\n    label: 'Date of birth',\n    hint: 'This is the date you were born',\n    onValueChange: fn()\n  }\n}",...Hint.parameters?.docs?.source}}},PartialError.parameters={...PartialError.parameters,docs:{...PartialError.parameters?.docs,source:{originalSource:"{\n  args: {\n    identifier: 'date-input',\n    label: 'Date of birth',\n    error: 'You must enter a full date of birth',\n    errorType: errorTypeEnum.dayMonth,\n    onValueChange: fn()\n  }\n}",...PartialError.parameters?.docs?.source}}},AllError.parameters={...AllError.parameters,docs:{...AllError.parameters?.docs,source:{originalSource:"{\n  args: {\n    identifier: 'date-input',\n    label: 'Date of birth',\n    error: 'You must enter a date of birth',\n    errorType: errorTypeEnum.all,\n    onValueChange: fn()\n  }\n}",...AllError.parameters?.docs?.source}}}},"./src/UI/Input/InputCommon.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F0:()=>PasswordState,Fy:()=>GetInputTypeFromPasswordState,GN:()=>buildCounterText,Ob:()=>GetButtonTextFromPasswordState,it:()=>TextInputWidthClass,vV:()=>GetAriaTextFromPasswordState});const TextInputWidthClass=new Map([[1,"govuk-!-width-full"],[2,"govuk-!-width-three-quarters"],[3,"govuk-!-width-two-thirds"],[4,"govuk-!-width-one-half"],[5,"govuk-!-width-one-third"],[6,"govuk-!-width-one-quarter"],[7,"govuk-input--width-20"],[8,"govuk-input--width-10"],[9,"govuk-input--width-5"],[10,"govuk-input--width-4"],[11,"govuk-input--width-3"],[12,"govuk-input--width-2"]]);var PasswordState=function(PasswordState){return PasswordState[PasswordState.Password=1]="Password",PasswordState[PasswordState.Text=2]="Text",PasswordState}({});const GetButtonTextFromPasswordState=new Map([[1,"Show"],[2,"Hide"]]),GetInputTypeFromPasswordState=new Map([[1,"password"],[2,"text"]]),GetAriaTextFromPasswordState=new Map([[1,"Your password is hidden"],[2,"Your password is visible"]]),buildCounterText=(textValue,maximumCount,countType)=>{const retVal={message:"",count:0,valid:!1};let newCount=0;newCount="character"===countType?textValue.length:(value=>{const cleanValue=value.replace(/\s\s+/g," ");if(cleanValue.length>0)return cleanValue.split(" ").filter((str=>/\S/.test(str))).length;return 0})(textValue);const remainingCount=maximumCount-newCount;return newCount<=maximumCount?(retVal.message=`You have ${remainingCount} ${countType}s remaining`,retVal.valid=!0):(retVal.message=`You have exceeeded the permitted ${countType} count by ${0-remainingCount}`,retVal.valid=!1),retVal.count=newCount,retVal}},"./src/UI/Input/TextInput.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k:()=>TextInput});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_InputCommon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/UI/Input/InputCommon.ts");function TextInput({identifier,label,multiQuestion,required,inputType,inputMode,labelClassExt,inputClassExt,autoComplete,hint,prefix,suffix,width,error,inErrorState,spellCheck,disabled,value,onChange,onBlur}){const containerAttr={className:error?"govuk-form-group govuk-form-group--error":"govuk-form-group"},inputAttr={required,"aria-required":required,type:inputType||"text",className:"govuk-input",autoComplete,spellCheck,"aria-describedby":"","aria-invalid":!1,disabled,"aria-disabled":disabled,inputMode};width&&(inputAttr.className+=` ${_InputCommon__WEBPACK_IMPORTED_MODULE_1__.it.get(width)}`),inputClassExt&&(inputAttr.className+=` ${inputClassExt}`),error&&(inputAttr["aria-describedby"]=`${identifier}-error `),hint&&(inputAttr["aria-describedby"]+=`${identifier}-hint `),inputAttr["aria-describedby"]+=`${identifier}-label`,(error||inErrorState)&&(inputAttr.className+=" govuk-input--error",inputAttr["aria-invalid"]=!0);let assignedClass="govuk-label govuk-label--l";labelClassExt?assignedClass=multiQuestion?`govuk-label ${labelClassExt}`:`govuk-label govuk-label--l ${labelClassExt}`:multiQuestion&&(assignedClass="govuk-label");const labelAttr={className:assignedClass,id:`${identifier}-label`};return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",containerAttr,multiQuestion?react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:identifier,...labelAttr},label):react__WEBPACK_IMPORTED_MODULE_0__.createElement("h1",{className:"govuk-label-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:identifier,...labelAttr},label)),hint&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:`${identifier}-hint`,className:"govuk-hint"},hint),error&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{id:`${identifier}-error`,className:"govuk-error-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"govuk-visually-hidden"},"Error:")," ",error),prefix||suffix?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"govuk-input__wrapper"},prefix&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"govuk-input__prefix","aria-hidden":"true"},prefix),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:identifier,name:identifier,...inputAttr,value,onChange,onBlur}),suffix&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"govuk-input__suffix","aria-hidden":"true"},suffix)):react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:identifier,name:identifier,...inputAttr,value,onChange,onBlur}))}try{TextInput.displayName="TextInput",TextInput.__docgenInfo={description:"",displayName:"TextInput",props:{inputMode:{defaultValue:null,description:"",name:"inputMode",required:!1,type:{name:"enum",value:[{value:'"numeric"'}]}},inputType:{defaultValue:null,description:"",name:"inputType",required:!1,type:{name:"enum",value:[{value:'"email"'},{value:'"password"'}]}},prefix:{defaultValue:null,description:"",name:"prefix",required:!1,type:{name:"string"}},suffix:{defaultValue:null,description:"",name:"suffix",required:!1,type:{name:"string"}},autoComplete:{defaultValue:null,description:"",name:"autoComplete",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"enum",value:[{value:"1"},{value:"2"},{value:"3"},{value:"4"},{value:"5"},{value:"6"},{value:"7"},{value:"8"},{value:"9"},{value:"10"},{value:"11"},{value:"12"}]}},inErrorState:{defaultValue:null,description:"",name:"inErrorState",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: ChangeEvent<HTMLInputElement>) => void"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!0,type:{name:"(value: FocusEvent<HTMLInputElement, Element>) => void"}},spellCheck:{defaultValue:null,description:"",name:"spellCheck",required:!1,type:{name:"boolean"}},identifier:{defaultValue:null,description:"",name:"identifier",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},hint:{defaultValue:null,description:"",name:"hint",required:!1,type:{name:"string"}},multiQuestion:{defaultValue:null,description:"",name:"multiQuestion",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},labelClassExt:{defaultValue:null,description:"",name:"labelClassExt",required:!1,type:{name:"string"}},inputClassExt:{defaultValue:null,description:"",name:"inputClassExt",required:!1,type:{name:"string"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/UI/Input/TextInput.tsx#TextInput"]={docgenInfo:TextInput.__docgenInfo,name:"TextInput",path:"src/UI/Input/TextInput.tsx#TextInput"})}catch(__react_docgen_typescript_loader_error){}}}]);